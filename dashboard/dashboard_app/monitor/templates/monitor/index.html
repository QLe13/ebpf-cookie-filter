<!-- monitor/templates/monitor/index.html -->

<!DOCTYPE html>
<html>
<head>
    <title>eBPF Packet Monitor</title>
    <link rel="stylesheet" type="text/css" href="{% load static %}">
</head>
<body>
    <h1>Packet Counts</h1>
    <table>
        <tr>
            <th>Timestamp</th>
            <th>Packet Count</th>
        </tr>
        {% for entry in data %}
        <tr>
            <td>{{ entry.timestamp }}</td>
            <td>{{ entry.count }}</td>
        </tr>
        {% endfor %}
    </table>
    <h1>Packet Details</h1>
    <table>
        <tr>
            <th>Timestamp</th>
            <th>Source IP</th>
            <th>Destination IP</th>
            <th>Protocol</th>
            <th>Length</th>
        </tr>
        {% for entry in packets %}
        <tr>
            <td>{{ entry.timestamp }}</td>
            <td>{{ entry.src_ip }}</td>
            <td>{{ entry.dst_ip }}</td>
            <td>{{ entry.protocol }}</td>
            <td>{{ entry.length }}</td>
        </tr>
        {% endfor %}
    <script>
        setTimeout(function() {
            window.location.reload();
        }, 1000);
    </script>
</body>
</html>
